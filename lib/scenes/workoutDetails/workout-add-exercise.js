var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _reactRedux=require("react-redux");var _propTypes=_interopRequireDefault(require("prop-types"));var _searchableList=_interopRequireDefault(require("../../components/organisms/searchableList"));var _styles=require("../../styles");var _molecules=require("../../components/molecules");var _jsxFileName="/Users/wanda.chereji/development/WorkoutAssistant/src/scenes/workoutDetails/workout-add-exercise.js";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}var RemovableExerciseButton=function RemovableExerciseButton(_ref){var title=_ref.title,deleteExercise=_ref.deleteExercise;return _react.default.createElement(_reactNative.TouchableOpacity,{style:styles.removableButton,onPress:function onPress(){deleteExercise(title);},__source:{fileName:_jsxFileName,lineNumber:23,columnNumber:9}},_react.default.createElement(_reactNative.Image,{source:require("../../assets/images/baseline_delete_white_24dp.png"),style:styles.imageIconStyle,__source:{fileName:_jsxFileName,lineNumber:28,columnNumber:13}}),_react.default.createElement(_reactNative.Text,{style:[styles.text,styles.bigFont],__source:{fileName:_jsxFileName,lineNumber:29,columnNumber:13}},title));};RemovableExerciseButton.propTypes={title:_propTypes.default.string,deleteExercise:_propTypes.default.func};var RepetitionsRow=function RepetitionsRow(_ref2){var runningNumber=_ref2.runningNumber;return _react.default.createElement(_reactNative.View,{style:styles.exerciseRepetitionRow,__source:{fileName:_jsxFileName,lineNumber:41,columnNumber:9}},_react.default.createElement(_reactNative.Text,{style:styles.text,__source:{fileName:_jsxFileName,lineNumber:42,columnNumber:13}},runningNumber),_react.default.createElement(_reactNative.TextInput,{style:styles.amountOfRepetitionsInput,keyboardType:"numeric",placeholder:"amount",__source:{fileName:_jsxFileName,lineNumber:43,columnNumber:13}}),_react.default.createElement(_reactNative.Picker,{style:[styles.picker,styles.flex1],mode:"dialog",__source:{fileName:_jsxFileName,lineNumber:48,columnNumber:13}},_react.default.createElement(_reactNative.Picker.Item,{label:"Repetitions",value:"Repetitions",color:_styles.Colors.PRIMARY_COLOR,__source:{fileName:_jsxFileName,lineNumber:51,columnNumber:21}})));};RepetitionsRow.propTypes={runningNumber:_propTypes.default.string};var ExerciseFormItem=function ExerciseFormItem(_ref3){var data=_ref3.data,title=_ref3.title;return _react.default.createElement(_reactNative.View,{style:styles.exerciseFormItemContainer,__source:{fileName:_jsxFileName,lineNumber:63,columnNumber:9}},_react.default.createElement(_reactNative.Text,{style:[styles.text,styles.accentColor],__source:{fileName:_jsxFileName,lineNumber:64,columnNumber:13}},title),_react.default.createElement(_reactNative.FlatList,{data:data,renderItem:function renderItem(_ref4){var item=_ref4.item;return _react.default.createElement(RepetitionsRow,{runningNumber:item.runningNumber,__source:{fileName:_jsxFileName,lineNumber:68,columnNumber:21}});},keyExtractor:function keyExtractor(item){return item.id.toString();},__source:{fileName:_jsxFileName,lineNumber:65,columnNumber:13}}));};ExerciseFormItem.propTypes={data:_propTypes.default.array,title:_propTypes.default.string};var WorkoutAddExerciseScreen=function(_Component){(0,_inherits2.default)(WorkoutAddExerciseScreen,_Component);var _super=_createSuper(WorkoutAddExerciseScreen);function WorkoutAddExerciseScreen(props){var _this;(0,_classCallCheck2.default)(this,WorkoutAddExerciseScreen);_this=_super.call(this,props);_this.state={noOfSets:"1",setFormData:[{id:"id0",runningNumber:"1."}],searchResultData:[]};return _this;}(0,_createClass2.default)(WorkoutAddExerciseScreen,[{key:"displaySearchResult",value:function displaySearchResult(id){var _this2=this;var exercises=this.props.wgerExercises.exercises;var result=exercises.filter(function(exercise){return exercise.id===id;});this.setState(function(){var searchResultData=[].concat((0,_toConsumableArray2.default)(_this2.state.searchResultData),[result[0]]);return{searchResultData:searchResultData};});}},{key:"deleteExercise",value:function deleteExercise(title){var item={};item=this.state.searchResultData.filter(function(exercise){return exercise.name===title;});var data=(0,_toConsumableArray2.default)(this.state.searchResultData);var index=data.indexOf(item[0]);if(index!==-1){data.splice(index,1);this.setState({searchResultData:data});}}},{key:"setDataForSetForm",value:function setDataForSetForm(repetitions){var data=[];var obj={};for(var i=0;i<repetitions;i++){obj={id:"id"+i,runningNumber:i+1+"."};data.push(obj);}this.setState({setFormData:data});}},{key:"handleOnPress",value:function handleOnPress(){}},{key:"render",value:function render(){var _this3=this;return _react.default.createElement(_reactNative.ScrollView,{style:styles.container,__source:{fileName:_jsxFileName,lineNumber:144,columnNumber:13}},_react.default.createElement(_reactNative.Text,{style:styles.text,__source:{fileName:_jsxFileName,lineNumber:145,columnNumber:17}},"Exercises"),_react.default.createElement(_searchableList.default,{list:this.props.wgerExercises.exercises,displaySearchResult:function displaySearchResult(id){return _this3.displaySearchResult(id);},__source:{fileName:_jsxFileName,lineNumber:146,columnNumber:17}}),this.state.searchResultData.length?_react.default.createElement(_reactNative.View,{__source:{fileName:_jsxFileName,lineNumber:151,columnNumber:17}},_react.default.createElement(_reactNative.FlatList,{data:this.state.searchResultData,renderItem:function renderItem(_ref5){var item=_ref5.item;return _react.default.createElement(RemovableExerciseButton,{title:item.name,deleteExercise:function deleteExercise(title){_this3.deleteExercise(title);},__source:{fileName:_jsxFileName,lineNumber:155,columnNumber:29}});},keyExtractor:function keyExtractor(item){return item.uuid.toString();},__source:{fileName:_jsxFileName,lineNumber:152,columnNumber:21}}),_react.default.createElement(_reactNative.Text,{style:styles.text,__source:{fileName:_jsxFileName,lineNumber:161,columnNumber:21}},"Number of sets"),_react.default.createElement(_reactNative.TouchableOpacity,{style:styles.pickerContainer,__source:{fileName:_jsxFileName,lineNumber:163,columnNumber:21}},_react.default.createElement(_reactNative.Picker,{selectedValue:this.state.noOfSets,style:styles.picker,mode:"dialog",onValueChange:function onValueChange(itemValue){_this3.setState({noOfSets:itemValue});_this3.setDataForSetForm(itemValue);},__source:{fileName:_jsxFileName,lineNumber:164,columnNumber:25}},_react.default.createElement(_reactNative.Picker.Item,{label:"1",value:"1",color:_styles.Colors.PRIMARY_COLOR,__source:{fileName:_jsxFileName,lineNumber:174,columnNumber:33}}),_react.default.createElement(_reactNative.Picker.Item,{label:"2",value:"2",color:_styles.Colors.PRIMARY_COLOR,__source:{fileName:_jsxFileName,lineNumber:175,columnNumber:33}}),_react.default.createElement(_reactNative.Picker.Item,{label:"3",value:"3",color:_styles.Colors.PRIMARY_COLOR,__source:{fileName:_jsxFileName,lineNumber:176,columnNumber:33}}),_react.default.createElement(_reactNative.Picker.Item,{label:"4",value:"4",color:_styles.Colors.PRIMARY_COLOR,__source:{fileName:_jsxFileName,lineNumber:177,columnNumber:33}}),_react.default.createElement(_reactNative.Picker.Item,{label:"5",value:"5",color:_styles.Colors.PRIMARY_COLOR,__source:{fileName:_jsxFileName,lineNumber:178,columnNumber:33}}),_react.default.createElement(_reactNative.Picker.Item,{label:"6",value:"6",color:_styles.Colors.PRIMARY_COLOR,__source:{fileName:_jsxFileName,lineNumber:179,columnNumber:33}}),_react.default.createElement(_reactNative.Picker.Item,{label:"7",value:"7",color:_styles.Colors.PRIMARY_COLOR,__source:{fileName:_jsxFileName,lineNumber:180,columnNumber:33}}),_react.default.createElement(_reactNative.Picker.Item,{label:"8",value:"8",color:_styles.Colors.PRIMARY_COLOR,__source:{fileName:_jsxFileName,lineNumber:181,columnNumber:33}}),_react.default.createElement(_reactNative.Picker.Item,{label:"9",value:"9",color:_styles.Colors.PRIMARY_COLOR,__source:{fileName:_jsxFileName,lineNumber:182,columnNumber:33}}),_react.default.createElement(_reactNative.Picker.Item,{label:"10",value:"10",color:_styles.Colors.PRIMARY_COLOR,__source:{fileName:_jsxFileName,lineNumber:183,columnNumber:33}}))),_react.default.createElement(_reactNative.FlatList,{data:this.state.searchResultData,renderItem:function renderItem(_ref6){var item=_ref6.item;return _react.default.createElement(ExerciseFormItem,{data:_this3.state.setFormData,title:item.name,__source:{fileName:_jsxFileName,lineNumber:190,columnNumber:29}});},keyExtractor:function keyExtractor(item){return item.uuid.toString();},__source:{fileName:_jsxFileName,lineNumber:187,columnNumber:21}}),_react.default.createElement(_molecules.SubmitButton,{title:"Save",handleOnPress:function handleOnPress(){_this3.handleOnPress();},__source:{fileName:_jsxFileName,lineNumber:196,columnNumber:21}})):null);}}]);return WorkoutAddExerciseScreen;}(_react.Component);WorkoutAddExerciseScreen.propTypes={wgerExercises:_propTypes.default.object};var styles=_reactNative.StyleSheet.create({container:{backgroundColor:_styles.Colors.WHITE,paddingTop:20,paddingLeft:16,paddingRight:16,flex:1},text:{color:_styles.Colors.PRIMARY_COLOR,fontSize:10,textTransform:'uppercase'},removableButton:{flexDirection:'row',backgroundColor:_styles.Colors.SECONDARY_COLOR,borderRadius:8,marginBottom:8,height:44,alignItems:'center',justifyContent:'center'},imageIconStyle:{height:24,width:24,tintColor:_styles.Colors.PRIMARY_COLOR,marginRight:20},pickerContainer:{borderColor:_styles.Colors.PRIMARY_COLOR,borderRadius:8,marginTop:8,marginBottom:8,borderWidth:1},picker:{color:_styles.Colors.PRIMARY_COLOR,height:44,marginLeft:8},exerciseRepetitionRow:{flexDirection:'row',alignItems:"center",marginTop:8},amountOfRepetitionsInput:{height:44,borderColor:_styles.Colors.PRIMARY_COLOR,borderWidth:1,flex:1,paddingLeft:16,borderRadius:8,marginRight:16,marginLeft:16},flex1:{flex:1},exerciseFormItemContainer:{marginBottom:8},accentColor:{color:_styles.Colors.ACCENT_COLOR},bigFont:{fontSize:18}});var mapStateToProps=function mapStateToProps(state){return{wgerExercises:state};};var _default=(0,_reactRedux.connect)(mapStateToProps,null)(WorkoutAddExerciseScreen);exports.default=_default;